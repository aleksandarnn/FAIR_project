@prefix :        <https://w3id.org/FAIR-course-UT/2025/group5/FAIR_project/data> .
@prefix dcat:    <http://www.w3.org/ns/dcat#> .
@prefix dct:     <http://purl.org/dc/terms/> .
@prefix foaf:    <http://xmlns.com/foaf/0.1/> .
@prefix prov:    <http://www.w3.org/ns/prov#> .
@prefix time:    <http://www.w3.org/2006/time#> .
@prefix locn:    <http://www.w3.org/ns/locn#> .
@prefix vcard:   <http://www.w3.org/2006/vcard/ns#> .
@prefix xsd:     <http://www.w3.org/2001/XMLSchema#> .
@prefix geosparql: <http://www.opengis.net/ont/geosparql#> .

#################################################################
# DATASET
#################################################################

@prefix :         <https://w3id.org/FAIR-course-UT/2025/group5/FAIR_project/> .
@prefix dcat:     <http://www.w3.org/ns/dcat#> .
@prefix dct:      <http://purl.org/dc/terms/> .
@prefix foaf:     <http://xmlns.com/foaf/0.1/> .
@prefix prov:     <http://www.w3.org/ns/prov#> .
@prefix time:     <http://www.w3.org/2006/time#> .
@prefix locn:     <http://www.w3.org/ns/locn#> .
@prefix vcard:    <http://www.w3.org/2006/vcard/ns#> .
@prefix xsd:      <http://www.w3.org/2001/XMLSchema#> .
@prefix geosparql:<http://www.opengis.net/ont/geosparql#> .

# PID for the dataset
:dataset/no2-2022-sample
  a dcat:Dataset ;
  dct:title "AQS Daily NO₂ (42602) — 2022 (sampled, cleaned)" ;
  dct:description """Daily summary NO₂ (parameter code 42602) observations for calendar year 2022, sampled to 1,000 rows and lightly cleaned for the FAIR course demo. Each record is a daily mean at a monitoring site (site code + POC). Units: parts per billion (ppb).""" ;
  dct:creator :team ;
  dct:issued "2025-10-03T00:00:00Z"^^xsd:dateTime ;
  dct:language <http://id.loc.gov/vocabulary/iso639-1/en> ;
  dct:license <https://creativecommons.org/publicdomain/zero/1.0/> ;
  dct:source <https://aqs.epa.gov/aqsweb/airdata/daily_42602_2022.zip> ;
  dcat:keyword "NO2","air quality","AQS","EPA","2022","daily summary" ;
  dct:temporal :t-2022 ;
  dct:spatial  :bbox-chicago-ish ;
  dcat:distribution :dist/no2-2022-csv ;
  # PROV (I3 + R1.2)
  prov:wasDerivedFrom <https://aqs.epa.gov/aqsweb/airdata/download_files.html> ;
  prov:wasGeneratedBy :activity/etl-1-2 ;

  dct:conformsTo :shapes/dcat-shapes ;  
.


#################################################################
# DISTRIBUTION (CSV)
#################################################################

:dist/no2-2022-csv
  a dcat:Distribution ;
  dct:title "Cleaned sample CSV (1,000 rows)"@en ;
  dct:description "CSV distribution of the sampled & cleaned daily NO₂ 2022 records."@en ;
  dct:license <https://creativecommons.org/publicdomain/zero/1.0/> ;
  dcat:mediaType "text/csv" ;
  dcat:downloadURL <https://raw.githubusercontent.com/aleksandarnn/FAIR_project/main/data/daily_42602_2022_sample1000.csv> ;
  dct:issued "2025-10-03T00:00:00Z"^^xsd:dateTime .

#################################################################
# CREATOR (AGENT)
#################################################################

:agent/group5 a prov:Agent, foaf:Group ;
  foaf:name "Aleksandar Nikolov, Emils Johansens — Group 5 (UT FAIR 2025)" .

:team a foaf:Organization ;
  foaf:name "Group 5 — University of Twente FAIR Course 2024–2025" .

#################################################################
# ACTIVITY
#################################################################

:activity/etl-1-2
  a prov:Activity ;
  prov:used <https://aqs.epa.gov/aqsweb/airdata/> ,
            :code/etl.py ,
            :config/cleaning.yml ;
  prov:startedAtTime "2025-10-01T09:00:00Z"^^xsd:dateTime ;
  prov:endedAtTime   "2025-10-01T09:07:00Z"^^xsd:dateTime ;
  prov:wasAssociatedWith :agent/group5 ;
  prov:generated :dataset/no2-2022-sample .


#################################################################
# TEMPORAL COVERAGE
#################################################################

:t-2022
  a dct:PeriodOfTime ;
  time:hasBeginning [ a time:Instant ; time:inXSDDate "2022-01-01"^^xsd:date ] ;
  time:hasEnd       [ a time:Instant ; time:inXSDDate "2022-12-31"^^xsd:date ] ;
.

#################################################################
# SPATIAL COVERAGE (BBOX from your sample)
# WKT uses lon lat order; CRS84 ~ WGS84 lon/lat.
#################################################################

:bbox-chicago-ish
  a dct:Location ;
  locn:geometry """<http://www.opengis.net/def/crs/OGC/1.3/CRS84> POLYGON ((
    -87.70 41.59,
    -87.62 41.59,
    -87.62 41.89,
    -87.70 41.89,
    -87.70 41.59
  ))"""^^geosparql:wktLiteral ;
.
